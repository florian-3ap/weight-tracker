@model WeightTrackingViewModel
@{
    ViewData["Title"] = "Home Page";
}

<div>
    <div class="header">
        <h1>Übersicht</h1>
    </div>
    <hr/>
    <div class="row">
        @if (Model.PersonTracking.Count == 0)
        {
            <div class="col-md-12">
                <h5>Keine Person gefunden. Bitte erst eine Person erstellen</h5>
            </div>
        }
        @foreach (var personTrackings in Model.PersonTracking)
        {
            <div class="col-md-12">
                <h2>
                    @Html.DisplayFor(tracking => personTrackings.Key.Name)

                    <a asp-action="Create" asp-controller="WeightTracking" asp-route-id="@personTrackings.Key.Id">
                        <img id="icon-small" src="~/images/Document/AddNews.png" title="Erstellen" alt="Erstellen"/>
                    </a>
                </h2>

                <table class="table">
                    <thead>
                    <tr>
                        <th style="width: 25%">Datum</th>
                        <th style="width: 40%">Gewicht</th>
                        <th>Aktionen</th>
                    </tr>
                    </thead>
                    <tbody>
                    @if (personTrackings.Value.Count == 0)
                    {
                        <tr>
                            <td>
                                Keine Daten gefunden
                            </td>
                        </tr>
                    }
                    @foreach (var tracking in personTrackings.Value)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => tracking.Date)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => tracking.Weight) KG
                            </td>
                            <td>
                                <a asp-controller="WeightTracking" asp-action="Edit" asp-route-id="@tracking.Id">
                                    <img id="icon-small" src="~/images/Document/EditNews.png" title="Bearbeiten" alt="Bearbeiten"/>
                                </a> |
                                <a asp-controller="WeightTracking" asp-action="Delete" asp-route-id="@tracking.Id">
                                    <img id="icon-small" src="~/images/Document/DeleteNews.png" title="Löschen" alt="Löschen"/>
                                </a>
                            </td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        }
    </div>
</div>